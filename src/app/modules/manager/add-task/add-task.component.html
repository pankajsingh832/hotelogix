<app-header></app-header>
<div class="row">
  <div class="col-md-12 mt-3 ">
    <form novalidate #add="ngForm">
      <div class="row">
        <div class="col-md-4">
          <mat-form-field appearance="fill" class="me-2">
            <mat-label>Title</mat-label>
            <input
              type="text"
              required
              name="title"
              matInput
              #title="ngModel"
              [(ngModel)]="addTaskParams.title"/>
            <mat-error *ngIf="(title.errors)">Title is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="col-md-4">
          <mat-form-field appearance="fill">
            <mat-label>Status</mat-label>
            <mat-select
              required
              name="status"
              #status="ngModel"
              [(ngModel)]="addTaskParams.status">
              <mat-option value="1">Active</mat-option>
              <mat-option value="0">Inactive</mat-option>
            </mat-select>
            <!--          <mat-error *ngIf="status.errors?.required"-->
            <!--          >status is required</mat-error>-->
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field class="date" appearance="fill">
            <mat-label>Due Date</mat-label>
            <input required matInput name="startdate" [matDatepicker]="picker1" [(ngModel)]="addTaskParams.startDate">
            <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-md-12">
          <mat-form-field appearance="fill" class="me-2">
            <mat-label>Description</mat-label>
            <textarea
              type="text"
              required
              name="description"
              matInput
              #description="ngModel"
              [(ngModel)]="addTaskParams.description"></textarea>
            <!--    <mat-error *ngIf="description.errors?.required">Descriptionis required-->
            <!--    </mat-error>-->
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <button [disabled]="add.invalid || loading" class="btn btn-outline-danger" type="submit"
                  (click)="addTask()">
            {{loading ? (addTaskParams.taskId ?'Updatiing...': 'Adding'):(addTaskParams.taskId ?'Edit Task': 'Add Task')}}
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
